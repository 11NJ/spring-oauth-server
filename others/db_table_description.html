<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8"/>
    <title>数据库表说明(oauth.ddl)</title>
    <link href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <h2>spring-oauth-server 数据库表说明</h2>

    <p>以下对<code>oauth.ddl</code>中的表字及段进行说明, 内容包括字段说明与使用场合</p>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th style="width:15%;">表名</th>
            <th style="width: 15%">字段名</th>
            <th>字段说明</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td rowspan="13">oauth_client_details</td>
            <td>client_id</td>
            <td>
                主键,必须唯一,不能为空.
                <br/>
                用于唯一标识每一个客户端(client); 在注册时必须填写(也可由服务端自动生成).
                <br/>
                对于不同的grant_type,该字段都是必须的. 在实际应用中的另一个名称叫appKey,与client_id是同一个概念.
            </td>
        </tr>
        <tr>
            <td>resource_ids</td>
            <td>
                客户端所能访问的资源id集合,多个资源时用逗号(,)分隔,如: "unity-resource,mobile-resource".
                <br/>
                该字段的值必须来源于与<code>security.xml</code>中标签<code>&lsaquo;oauth2:resource-server</code>的属性<code>resource-id</code>值一致.
                在<code>security.xml</code>配置有几个<code>&lsaquo;oauth2:resource-server</code>标签, 则该字段可以使用几个该值.
                <br/>
                在实际应用中, 我们一般将资源进行分类,并分别配置对应的<code>&lsaquo;oauth2:resource-server</code>,如订单资源配置一个<code>&lsaquo;oauth2:resource-server</code>,
                用户资源又配置一个<code>&lsaquo;oauth2:resource-server</code>. 当注册客户端时,根据实际需要可选择资源id,也可根据不同的注册流程,赋予对应的资源id.
            </td>
        </tr>
        <tr>
            <td>client_secret</td>
            <td>

            </td>
        </tr>
        <tr>
            <td>scope</td>
            <td></td>
        </tr>
        <tr>
            <td>authorized_grant_types</td>
            <td></td>
        </tr>
        <tr>
            <td>web_server_redirect_uri</td>
            <td></td>
        </tr>
        <tr>
            <td>authorities</td>
            <td></td>
        </tr>
        <tr>
            <td>access_token_validity</td>
            <td></td>
        </tr>
        <tr>
            <td>refresh_token_validity</td>
            <td></td>
        </tr>
        <tr>
            <td>additional_information</td>
            <td></td>
        </tr>
        <tr>
            <td>create_time</td>
            <td>数据的创建时间,精确到秒,由数据库在插入数据时取当前系统时间自动生成(扩展字段)</td>
        </tr>
        <tr>
            <td>archived</td>
            <td></td>
        </tr>
        <tr>
            <td>trusted</td>
            <td></td>
        </tr>
        <!-- oauth_client_token -->
        <tr>
            <td rowspan="6">oauth_client_token</td>
            <td>create_time</td>
            <td>数据的创建时间,精确到秒,由数据库在插入数据时取当前系统时间自动生成(扩展字段)</td>
        </tr>
        <tr>
            <td>token_id</td>
            <td></td>
        </tr>
        <tr>
            <td>token</td>
            <td></td>
        </tr>
        <tr>
            <td>authentication_id</td>
            <td></td>
        </tr>
        <tr>
            <td>user_name</td>
            <td></td>
        </tr>
        <tr>
            <td>client_id</td>
            <td></td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>